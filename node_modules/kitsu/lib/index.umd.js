!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("axios"),require("kitsu-core")):"function"==typeof define&&define.amd?define(["axios","kitsu-core"],e):t.kitsu=e(t.axios,t.kitsuCore)}(this,function(t,e){t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(r){void 0===r&&(r={}),this.camel=!1===r.camelCaseTypes?function(t){return t}:e.camel,this.resCase="none"===r.resourceCase?function(t){return t}:"snake"===r.resourceCase?e.snake:e.kebab,this.plural=!1===r.pluralize?function(t){return t}:require("pluralize"),this.headers=Object.assign({},r.headers,{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}),this.axios=t.create({baseURL:r.baseURL||"https://kitsu.io/api/edge",timeout:r.timeout||3e4})};return r.prototype.fetch=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),new Promise(function(i,s){var a=function(t){try{throw e.error(t)}catch(t){return s(t)}};try{var o,u,c,h;return o=(h=t.split("/"))[1],u=h[2],c=this.plural(this.resCase(h[0])),o&&(c+="/"+o),u&&(c+="/"+this.resCase(u)),this.axios.get(c,{params:r,paramsSerializer:function(t){return e.query(t)},headers:Object.assign(this.headers,n)}).then(function(t){try{return i(e.deserialise(t.data))}catch(t){return a(t)}},a)}catch(t){a(t)}}.bind(this))},r.prototype.update=function(t,r,n){return void 0===n&&(n={}),new Promise(function(i,s){var a=function(t){try{throw e.error(t)}catch(t){return s(t)}};try{var o,u;return e.serialise.apply(this,[t,r,"PATCH"]).then(function(e){try{return o=e,u=this.plural(this.resCase(t))+"/"+r.id,this.axios.patch(u,o,{headers:Object.assign(this.headers,n)}).then(function(t){try{return i(t.data)}catch(t){return a(t)}},a)}catch(t){return a(t)}}.bind(this),a)}catch(t){a(t)}}.bind(this))},r.prototype.create=function(t,r,n){return void 0===n&&(n={}),new Promise(function(i,s){var a=function(t){try{throw e.error(t)}catch(t){return s(t)}};try{var o;return o=this.plural(this.resCase(t)),e.serialise.apply(this,[t,r]).then(function(t){try{return this.axios.post(o,t,{headers:Object.assign(this.headers,n)}).then(function(t){try{return i(t.data)}catch(t){return a(t)}},a)}catch(t){return a(t)}}.bind(this),a)}catch(t){a(t)}}.bind(this))},r.prototype.remove=function(t,r,n){return void 0===n&&(n={}),new Promise(function(i,s){var a=function(t){try{throw e.error(t)}catch(t){return s(t)}};try{var o;return o=this.plural(this.resCase(t))+"/"+r,e.serialise.apply(this,[t,{id:r},"DELETE"]).then(function(t){try{return this.axios.delete(o,{data:t,headers:Object.assign(this.headers,n)}).then(function(t){try{return i(t.data)}catch(t){return a(t)}},a)}catch(t){return a(t)}}.bind(this),a)}catch(t){a(t)}}.bind(this))},r.prototype.self=function(t,r){return void 0===t&&(t={}),void 0===r&&(r={}),new Promise(function(n,i){var s=function(t){try{throw e.error(t)}catch(t){return i(t)}};try{return this.fetch("users",Object.assign({filter:{self:!0}},t),r).then(function(t){try{return n(t.data[0])}catch(t){return s(t)}},s)}catch(t){s(t)}}.bind(this))},r});
//# sourceMappingURL=index.umd.js.map
